<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title></title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

  <!-- JS -->
  <!-- Mapbox, mapbox-draw, turf -->
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.js'></script>
  <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.0.9/mapbox-gl-draw.js'></script>

  <!-- CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.css' rel='stylesheet' />
  <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.0.9/mapbox-gl-draw.css' type='text/css'/>
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    #map {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
    }

    .info {
      z-index: 500;
      background: whitesmoke;
      position: absolute;
      top: 1rem;
      left: 1rem;
      padding: 1rem;
      /*display: flex;*/
      /*flex-direction: column;*/
    }

  </style>
</head>
<body>

<div id='map'></div>
<div class="info">
  <ol>
    <li>Vector tiles are output to a directory as nested PBF files (similar to raster tile structure) in Tippecanoe</li>
    <li>Directory of PBF files is pushed to GitHub repo (<a href="https://github.com/laurenoldham1202/countries-vector-tiles" target="_blank">https://github.com/laurenoldham1202/countries-vector-tiles</a>)</li>
    <li>GitHubPages is enabled on repo to serve vector tiles (<a href="https://github.com/laurenoldham1202/countries-vector-tiles" target="_blank">https://laurenoldham1202.github.io/countries-vector-tiles</a>)</li>
    <li>Map code hits GHPages URL to display vector tiles on map</li>
  </ol>
</div>

<script>
  mapboxgl.accessToken = 'pk.eyJ1IjoibGF1cmVub2xkaGFtMTIwMiIsImEiOiJjaW55dm52N2gxODJrdWtseWZ5czAyZmp5In0.YkEUt6GvIDujjudu187eyA';

  map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v9',
    center: [-75, 10], // starting position [lng, lat]
    zoom: 1, // starting zoom
  });

  map.on('load', () => {

    map.addSource('countries-source', {
      type: 'vector',
      tiles: ['https://laurenoldham1202.github.io/countries-vector-tiles/countries/{z}/{x}/{y}.pbf'],
    });

    map.addLayer({
      id: 'countries-layer',
      type: 'fill',
      source: 'countries-source',
      'source-layer': 'countries',
      paint: {
        'fill-color': 'red',
        'fill-opacity': 0.25,
      }
    });

    map.addSource('graticules-source', {
      type: 'vector',
      tiles: ['https://laurenoldham1202.github.io/countries-vector-tiles/graticules/{z}/{x}/{y}.pbf'],
    });

    map.addLayer({
      id: 'graticules-layer',
      type: 'line',
      source: 'graticules-source',
      'source-layer': 'graticules',
      paint: {
        'line-color': 'blue',
      }
    });
  });

</script>

</body>
</html>